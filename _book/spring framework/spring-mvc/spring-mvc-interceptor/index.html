
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2.2.2 SpringMVC拦截器 · think study repeat</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hyena">
        
        
    
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-js-sequence-diagram/styles.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    


    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../spring-global-exception/" />
    
    
    <link rel="prev" href="../spring-mvc-request-annotation/" />
    

    
        <link rel="shortcut icon" href='../../../source/images/favicon.jpg' type="image/x-icon">
    
    
        <link rel="bookmark" href='../../../source/images/favicon.jpg' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../../../source/images/apple-touch-icon.jpg'>
    
    
        
        <link rel="apple-touch-icon" sizes="120x120" href="../../../source/images/apple-touch-icon.jpg">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../../../source/images/apple-touch-icon.jpg">
        
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"youngFF","repo":"glory","type":"star","size":"small","count":true}]};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://www.baidu.com" target="_blank" class="custom-link">百度一下</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../java/">
            
                <a href="../../../java/">
            
                    
                    1.Java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../java/elementary/">
            
                <a href="../../../java/elementary/">
            
                    
                    1.0 Java Elememtary
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../../java/elementary/atomic_unsafe/">
            
                <a href="../../../java/elementary/atomic_unsafe/">
            
                    
                    1.0.1 AotimicInteger&Unsafe类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../../java/elementary/executors/">
            
                <a href="../../../java/elementary/executors/">
            
                    
                    1.0.2 ThreadPoolExecutor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="../../../java/elementary/nio/">
            
                <a href="../../../java/elementary/nio/">
            
                    
                    1.0.3 NIO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.4" data-path="../../../java/elementary/thread/">
            
                <a href="../../../java/elementary/thread/">
            
                    
                    1.0.4 java线程概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.5" data-path="../../../java/elementary/reference/">
            
                <a href="../../../java/elementary/reference/">
            
                    
                    1.0.4 java应用类型
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../java/jvm/">
            
                <a href="../../../java/jvm/">
            
                    
                    1.1 Java virtual machine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../java/specification/">
            
                <a href="../../../java/specification/">
            
                    
                    1.2 Java Specification
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../../java/specification/JMS/">
            
                <a href="../../../java/specification/JMS/">
            
                    
                    1.2.1 JMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../../java/specification/JMX/">
            
                <a href="../../../java/specification/JMX/">
            
                    
                    1.2.2 JMX
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../../java/specification/JDBC/">
            
                <a href="../../../java/specification/JDBC/">
            
                    
                    1.2.3 JDBC
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../../java/design pattern/">
            
                <a href="../../../java/design pattern/">
            
                    
                    1.3 Design Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../../java/microservice/">
            
                <a href="../../../java/microservice/">
            
                    
                    1.4 Java Microservice
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.1" data-path="../../../java/microservice/mq/">
            
                <a href="../../../java/microservice/mq/">
            
                    
                    1.4.1 mq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.2" data-path="../../../java/microservice/rpc/">
            
                <a href="../../../java/microservice/rpc/">
            
                    
                    1.4.2 RPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3" data-path="../../../java/tomcatxjetty/">
            
                <a href="../../../java/tomcatxjetty/">
            
                    
                    1.5 Tomcat & Jetty
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.5.3.1" data-path="../../../java/tomcatxjetty/tomcat/framework/">
            
                <a href="../../../java/tomcatxjetty/tomcat/framework/">
            
                    
                    1.5.1 tomcat架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5.3.2" data-path="../../../java/tomcatxjetty/tomcat/connector/README.md">
            
                <span>
            
                    
                    1.5.2 tomcat连接器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../../java/asmxjavassit/">
            
                <a href="../../../java/asmxjavassit/">
            
                    
                    1.6 Asm & Javassist
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../../java/jndi/">
            
                <a href="../../../java/jndi/">
            
                    
                    1.7 Jndi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../../java/maven/">
            
                <a href="../../../java/maven/">
            
                    
                    1.8 maven
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.8.1" data-path="../../../java/maven/reactor/">
            
                <a href="../../../java/maven/reactor/">
            
                    
                    1.8.1 maven反应堆
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../">
            
                <a href="../../">
            
                    
                    2.Spring Framework
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../spring-core/">
            
                <a href="../../spring-core/">
            
                    
                    2.1 Spring-Core
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../spring-core/spring-event/">
            
                <a href="../../spring-core/spring-event/">
            
                    
                    2.1.1 Spring事件发布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../spring-core/spring-beanfactory/">
            
                <a href="../../spring-core/spring-beanfactory/">
            
                    
                    2.1.2 Spring容器继承关系
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../spring-core/spring-cycle-depend/">
            
                <a href="../../spring-core/spring-cycle-depend/">
            
                    
                    2.1.3 Spring循环依赖问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../spring-core/spring-defaultlistablebeanfactory/">
            
                <a href="../../spring-core/spring-defaultlistablebeanfactory/">
            
                    
                    2.1.4 Spring DefaultListableBeanFactory
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../">
            
                <a href="../">
            
                    
                    2.2 Spring-Mvc
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../spring-mvc-request-annotation/">
            
                <a href="../spring-mvc-request-annotation/">
            
                    
                    2.2.1 SpringMVC注解
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.2.2" data-path="./">
            
                <a href="./">
            
                    
                    2.2.2 SpringMVC拦截器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../spring-global-exception/">
            
                <a href="../spring-global-exception/">
            
                    
                    2.2.3 Spring全局统一异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../spring-mvc-async-servlet/">
            
                <a href="../spring-mvc-async-servlet/">
            
                    
                    2.2.4 Spring异步处理Servlet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../spring-test/">
            
                <a href="../../spring-test/">
            
                    
                    2.3 Spring-Test
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../spring-test/spring-web-mock-test/">
            
                <a href="../../spring-test/spring-web-mock-test/">
            
                    
                    2.3.1 Spring-mvc-mock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../spring-boot/">
            
                <a href="../../spring-boot/">
            
                    
                    2.4 Spring-Boot
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../spring-boot/spring-boot项目配置/">
            
                <a href="../../spring-boot/spring-boot项目配置/">
            
                    
                    2.4.1 Spring-boot项目配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../spring-data/">
            
                <a href="../../spring-data/">
            
                    
                    2.5 Spring-Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../../spring-cloud/">
            
                <a href="../../spring-cloud/">
            
                    
                    2.6 Spring-Cloud
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../../spring-rest/">
            
                <a href="../../spring-rest/">
            
                    
                    2.7 Spring-Rest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../../spring-util/">
            
                <a href="../../spring-util/">
            
                    
                    2.8 Spring-Util
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.8.1" data-path="../../spring-util/spring-cron/">
            
                <a href="../../spring-util/spring-cron/">
            
                    
                    2.8.1 Spring定时任务和Cron表达式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../../linux/">
            
                <a href="../../../linux/">
            
                    
                    3.Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../../linux/shell/">
            
                <a href="../../../linux/shell/">
            
                    
                    3.1 Shell
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../../database/">
            
                <a href="../../../database/">
            
                    
                    4.DataBase
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../database/mysql/">
            
                <a href="../../../database/mysql/">
            
                    
                    4.1 MySQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../../database/mysql/sql/">
            
                <a href="../../../database/mysql/sql/">
            
                    
                    4.1.1 SQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../../database/mysql/transaction/">
            
                <a href="../../../database/mysql/transaction/">
            
                    
                    4.1.2 Transaction
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../database/redis/">
            
                <a href="../../../database/redis/">
            
                    
                    4.2 Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../../database/mybatis/">
            
                <a href="../../../database/mybatis/">
            
                    
                    4.3 MyBatis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../../database/mybatis/mybatis参数绑定/">
            
                <a href="../../../database/mybatis/mybatis参数绑定/">
            
                    
                    4.3.1 MyBatis参数绑定方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../../database/mybatis/mybatis迭代/">
            
                <a href="../../../database/mybatis/mybatis迭代/">
            
                    
                    4.3.2 MyBatis迭代器几种写法
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../../network/">
            
                <a href="../../../network/">
            
                    
                    5.Network
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../../network/http/">
            
                <a href="../../../network/http/">
            
                    
                    5.1 Http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../../network/tcp/">
            
                <a href="../../../network/tcp/">
            
                    
                    5.2 TCP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../../../operation_system/">
            
                <a href="../../../operation_system/">
            
                    
                    6.Operation System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../../../operation_system/file_sequence_random_io/">
            
                <a href="../../../operation_system/file_sequence_random_io/">
            
                    
                    6.1 文件顺序/随机IO
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../../data structure/">
            
                <a href="../../../data structure/">
            
                    
                    7.Data Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../../algorithm/">
            
                <a href="../../../algorithm/">
            
                    
                    8.Algorithm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../../../math/">
            
                <a href="../../../math/">
            
                    
                    9.Math
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../../programming language/">
            
                <a href="../../../programming language/">
            
                    
                    10.Programming Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../../../big_data/">
            
                <a href="../../../big_data/">
            
                    
                    11. 大数据
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../../../big_data/distrubuted_system/">
            
                <a href="../../../big_data/distrubuted_system/">
            
                    
                    11.1 分布式系统概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../../../big_data/hdfs/">
            
                <a href="../../../big_data/hdfs/">
            
                    
                    11. HDFS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../../../armory/">
            
                <a href="../../../armory/">
            
                    
                    12. weapons 武器库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../../../tech_framework/">
            
                <a href="../../../tech_framework/">
            
                    
                    13.工程架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../../../tech_experience/">
            
                <a href="../../../tech_experience/">
            
                    
                    14.工程经验
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../../../service_model/">
            
                <a href="../../../service_model/">
            
                    
                    15.业务模型
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >2.2.2 SpringMVC拦截器</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#springmvc&#x62E6;&#x622A;&#x5668;"><b></b>SpringMVC&#x62E6;&#x622A;&#x5668;</a></li><ul><ul><li><span class="title-icon "></span><a href="#1&#x7B80;&#x4ECB;"><b></b>1.&#x7B80;&#x4ECB;</a></li><li><span class="title-icon "></span><a href="#2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;"><b></b>2.HandlerInterceptor&#x548C;WebRequestInteceptor&#x63A5;&#x53E3;</a></li><li><span class="title-icon "></span><a href="#3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;"><b></b>3.&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;</a></li><li><span class="title-icon "></span><a href="#4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><b></b>4.&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;</a></li><li><span class="title-icon "></span><a href="#5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;"><b></b>5.Spring&#x548C;SpringBoot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;</a></li><li><span class="title-icon "></span><a href="#6&#x53C2;&#x8003;&#x8D44;&#x6599;"><b></b>6.&#x53C2;&#x8003;&#x8D44;&#x6599;</a></li></ul></ul></ul></div><a href="#springmvc&#x62E6;&#x622A;&#x5668;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="springmvc&#x62E6;&#x622A;&#x5668;"><a name="springmvc&#x62E6;&#x622A;&#x5668;" class="anchor-navigation-ex-anchor" href="#springmvc&#x62E6;&#x622A;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="springmvc&#x62E6;&#x622A;&#x5668;" class="plugin-anchor" href="#springmvc&#x62E6;&#x622A;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>SpringMVC&#x62E6;&#x622A;&#x5668;</h1>
<p>&#x76EE;&#x5F55;&#xFF1A;</p>
<ol>
<li><a href="#1&#x7B80;&#x4ECB;">&#x7B80;&#x4ECB;</a></li>
<li><a href="#2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;">HandlerInterceptor&#x548C;WebRequestHandler&#x63A5;&#x53E3;</a></li>
<li><a href="#3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;">&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;</a></li>
<li><a href="#4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;">&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;</a></li>
<li><a href="#5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;">Spring&#x548C;SpringBoot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;</a></li>
<li><a href="#6&#x53C2;&#x8003;&#x8D44;&#x6599;">&#x53C2;&#x8003;&#x8D44;&#x6599;</a></li>
</ol>
<h3 id="1&#x7B80;&#x4ECB;"><a name="1&#x7B80;&#x4ECB;" class="anchor-navigation-ex-anchor" href="#1&#x7B80;&#x4ECB;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="1&#x7B80;&#x4ECB;" class="plugin-anchor" href="#1&#x7B80;&#x4ECB;"><i class="fa fa-link" aria-hidden="true"></i></a>1.&#x7B80;&#x4ECB;</h3>
<p>SpringMVC&#x62E6;&#x622A;&#x5668;(Interceptor)&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x524D;&#x540E;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x3002;SpringMVC&#x4E2D;&#x7684;&#x62E6;&#x622A;&#x5668;&#x662F;&#x901A;&#x8FC7;<code>HandlerInterceptor</code>&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x5728;Spring&#x4E2D;&#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;&#x3002;</p>
<ol>
<li>&#x5B9E;&#x73B0;Spring&#x7684;<code>HandlerInterceptor</code>&#x63A5;&#x53E3;</li>
<li>&#x7EE7;&#x627F;&#x5B9E;&#x73B0;<code>HandlerInteceptor</code>&#x63A5;&#x53E3;&#x7684;&#x7C7B;&#xFF0C;&#x6BD4;&#x5982;Spring&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x4E86;&#x5B9E;&#x73B0;&#x4E86;<code>HandlerInterceptor</code>&#x63A5;&#x53E3;&#x7684;&#x62BD;&#x8C61;&#x7C7B;<code>HandlerInterceptorAdapter</code></li>
<li>&#x5B9E;&#x73B0;Spring&#x7684;<code>WebRequestInterceptor</code>&#x63A5;&#x53E3;</li>
<li>&#x7EE7;&#x627F;&#x5B9E;&#x73B0;&#x4E86;<code>WebRequestInterceptor</code>&#x63A5;&#x53E3;&#x7684;&#x7C7B;</li>
</ol>
<p>&#x5B9E;&#x73B0;&#x4E86;&#x62E6;&#x622A;&#x5668;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x91CD;&#x5199;<code>WebMvcConfigure</code>&#x7684;<code>addInterceptors</code>&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x62E6;&#x622A;&#x5668;</p>
<h3 id="2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;"><a name="2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;" class="anchor-navigation-ex-anchor" href="#2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;" class="plugin-anchor" href="#2handlerinterceptor&#x548C;webrequestinteceptor&#x63A5;&#x53E3;"><i class="fa fa-link" aria-hidden="true"></i></a>2.HandlerInterceptor&#x548C;WebRequestInteceptor&#x63A5;&#x53E3;</h3>
<p>HandlerInteceptor</p>
<pre><code class="lang-java"><span class="hljs-comment">/*
 * Copyright 2002-2019 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="hljs-keyword">package</span> org.springframework.web.servlet;

<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;

<span class="hljs-keyword">import</span> org.springframework.lang.Nullable;
<span class="hljs-keyword">import</span> org.springframework.web.method.HandlerMethod;

<span class="hljs-comment">/**
 * Workflow interface that allows for customized handler execution chains.
 * Applications can register any number of existing or custom interceptors
 * for certain groups of handlers, to add common preprocessing behavior
 * without needing to modify each handler implementation.
 *
 * &lt;p&gt;A HandlerInterceptor gets called before the appropriate HandlerAdapter
 * triggers the execution of the handler itself. This mechanism can be used
 * for a large field of preprocessing aspects, e.g. for authorization checks,
 * or common handler behavior like locale or theme changes. Its main purpose
 * is to allow for factoring out repetitive handler code.
 *
 * &lt;p&gt;In an asynchronous processing scenario, the handler may be executed in a
 * separate thread while the main thread exits without rendering or invoking the
 * {<span class="hljs-doctag">@code</span> postHandle} and {<span class="hljs-doctag">@code</span> afterCompletion} callbacks. When concurrent
 * handler execution completes, the request is dispatched back in order to
 * proceed with rendering the model and all methods of this contract are invoked
 * again. For further options and details see
 * {<span class="hljs-doctag">@code</span> org.springframework.web.servlet.AsyncHandlerInterceptor}
 *
 * &lt;p&gt;Typically an interceptor chain is defined per HandlerMapping bean,
 * sharing its granularity. To be able to apply a certain interceptor chain
 * to a group of handlers, one needs to map the desired handlers via one
 * HandlerMapping bean. The interceptors themselves are defined as beans
 * in the application context, referenced by the mapping bean definition
 * via its &quot;interceptors&quot; property (in XML: a &amp;lt;list&amp;gt; of &amp;lt;ref&amp;gt;).
 *
 * &lt;p&gt;HandlerInterceptor is basically similar to a Servlet Filter, but in
 * contrast to the latter it just allows custom pre-processing with the option
 * of prohibiting the execution of the handler itself, and custom post-processing.
 * Filters are more powerful, for example they allow for exchanging the request
 * and response objects that are handed down the chain. Note that a filter
 * gets configured in web.xml, a HandlerInterceptor in the application context.
 *
 * &lt;p&gt;As a basic guideline, fine-grained handler-related preprocessing tasks are
 * candidates for HandlerInterceptor implementations, especially factored-out
 * common handler code and authorization checks. On the other hand, a Filter
 * is well-suited for request content and view content handling, like multipart
 * forms and GZIP compression. This typically shows when one needs to map the
 * filter to certain content types (e.g. images), or to all requests.
 *
 * <span class="hljs-doctag">@author</span> Juergen Hoeller
 * <span class="hljs-doctag">@since</span> 20.06.2003
 * <span class="hljs-doctag">@see</span> HandlerExecutionChain#getInterceptors
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.handler.HandlerInterceptorAdapter
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.handler.AbstractHandlerMapping#setInterceptors
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.handler.UserRoleAuthorizationInterceptor
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.i18n.LocaleChangeInterceptor
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.theme.ThemeChangeInterceptor
 * <span class="hljs-doctag">@see</span> javax.servlet.Filter
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HandlerInterceptor</span> </span>{

    <span class="hljs-comment">/**
     * Intercept the execution of a handler. Called after HandlerMapping determined
     * an appropriate handler object, but before HandlerAdapter invokes the handler.
     * &lt;p&gt;DispatcherServlet processes a handler in an execution chain, consisting
     * of any number of interceptors, with the handler itself at the end.
     * With this method, each interceptor can decide to abort the execution chain,
     * typically sending an HTTP error or writing a custom response.
     * &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; special considerations apply for asynchronous
     * request processing. For more details see
     * {<span class="hljs-doctag">@link</span> org.springframework.web.servlet.AsyncHandlerInterceptor}.
     * &lt;p&gt;The default implementation returns {<span class="hljs-doctag">@code</span> true}.
     * <span class="hljs-doctag">@param</span> request current HTTP request
     * <span class="hljs-doctag">@param</span> response current HTTP response
     * <span class="hljs-doctag">@param</span> handler chosen handler to execute, for type and/or instance evaluation
     * <span class="hljs-doctag">@return</span> {<span class="hljs-doctag">@code</span> true} if the execution chain should proceed with the
     * next interceptor or the handler itself. Else, DispatcherServlet assumes
     * that this interceptor has already dealt with the response itself.
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span>
            <span class="hljs-keyword">throws</span> Exception </span>{

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-comment">/**
     * Intercept the execution of a handler. Called after HandlerAdapter actually
     * invoked the handler, but before the DispatcherServlet renders the view.
     * Can expose additional model objects to the view via the given ModelAndView.
     * &lt;p&gt;DispatcherServlet processes a handler in an execution chain, consisting
     * of any number of interceptors, with the handler itself at the end.
     * With this method, each interceptor can post-process an execution,
     * getting applied in inverse order of the execution chain.
     * &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; special considerations apply for asynchronous
     * request processing. For more details see
     * {<span class="hljs-doctag">@link</span> org.springframework.web.servlet.AsyncHandlerInterceptor}.
     * &lt;p&gt;The default implementation is empty.
     * <span class="hljs-doctag">@param</span> request current HTTP request
     * <span class="hljs-doctag">@param</span> response current HTTP response
     * <span class="hljs-doctag">@param</span> handler handler (or {<span class="hljs-doctag">@link</span> HandlerMethod}) that started asynchronous
     * execution, for type and/or instance examination
     * <span class="hljs-doctag">@param</span> modelAndView the {<span class="hljs-doctag">@code</span> ModelAndView} that the handler returned
     * (can also be {<span class="hljs-doctag">@code</span> null})
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler,
            @Nullable ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception </span>{
    }

    <span class="hljs-comment">/**
     * Callback after completion of request processing, that is, after rendering
     * the view. Will be called on any outcome of handler execution, thus allows
     * for proper resource cleanup.
     * &lt;p&gt;Note: Will only be called if this interceptor&apos;s {<span class="hljs-doctag">@code</span> preHandle}
     * method has successfully completed and returned {<span class="hljs-doctag">@code</span> true}!
     * &lt;p&gt;As with the {<span class="hljs-doctag">@code</span> postHandle} method, the method will be invoked on each
     * interceptor in the chain in reverse order, so the first interceptor will be
     * the last to be invoked.
     * &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; special considerations apply for asynchronous
     * request processing. For more details see
     * {<span class="hljs-doctag">@link</span> org.springframework.web.servlet.AsyncHandlerInterceptor}.
     * &lt;p&gt;The default implementation is empty.
     * <span class="hljs-doctag">@param</span> request current HTTP request
     * <span class="hljs-doctag">@param</span> response current HTTP response
     * <span class="hljs-doctag">@param</span> handler handler (or {<span class="hljs-doctag">@link</span> HandlerMethod}) that started asynchronous
     * execution, for type and/or instance examination
     * <span class="hljs-doctag">@param</span> ex any exception thrown on handler execution, if any; this does not
     * include exceptions that have been handled through an exception resolver
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler,
            @Nullable Exception ex)</span> <span class="hljs-keyword">throws</span> Exception </span>{
    }

}
</code></pre>
<p>WebRequestInterceptor</p>
<pre><code class="lang-java"><span class="hljs-comment">/*
 * Copyright 2002-2016 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="hljs-keyword">package</span> org.springframework.web.context.request;

<span class="hljs-keyword">import</span> org.springframework.lang.Nullable;
<span class="hljs-keyword">import</span> org.springframework.ui.ModelMap;

<span class="hljs-comment">/**
 * Interface for general web request interception. Allows for being applied
 * to Servlet request by building on the {<span class="hljs-doctag">@link</span> WebRequest} abstraction.
 *
 * &lt;p&gt;This interface assumes MVC-style request processing: A handler gets executed,
 * exposes a set of model objects, then a view gets rendered based on that model.
 * Alternatively, a handler may also process the request completely, with no
 * view to be rendered.
 *
 * &lt;p&gt;In an async processing scenario, the handler may be executed in a separate
 * thread while the main thread exits without rendering or invoking the
 * {<span class="hljs-doctag">@code</span> postHandle} and {<span class="hljs-doctag">@code</span> afterCompletion} callbacks. When concurrent
 * handler execution completes, the request is dispatched back in order to
 * proceed with rendering the model and all methods of this contract are invoked
 * again. For further options and comments see
 * {<span class="hljs-doctag">@code</span> org.springframework.web.context.request.async.AsyncWebRequestInterceptor}
 *
 * &lt;p&gt;This interface is deliberately minimalistic to keep the dependencies of
 * generic request interceptors as minimal as feasible.
 *
 * <span class="hljs-doctag">@author</span> Juergen Hoeller
 * <span class="hljs-doctag">@since</span> 2.0
 * <span class="hljs-doctag">@see</span> ServletWebRequest
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.DispatcherServlet
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.handler.AbstractHandlerMapping#setInterceptors
 * <span class="hljs-doctag">@see</span> org.springframework.web.servlet.HandlerInterceptor
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">WebRequestInterceptor</span> </span>{

    <span class="hljs-comment">/**
     * Intercept the execution of a request handler &lt;i&gt;before&lt;/i&gt; its invocation.
     * &lt;p&gt;Allows for preparing context resources (such as a Hibernate Session)
     * and expose them as request attributes or as thread-local objects.
     * <span class="hljs-doctag">@param</span> request the current web request
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(WebRequest request)</span> <span class="hljs-keyword">throws</span> Exception</span>;

    <span class="hljs-comment">/**
     * Intercept the execution of a request handler &lt;i&gt;after&lt;/i&gt; its successful
     * invocation, right before view rendering (if any).
     * &lt;p&gt;Allows for modifying context resources after successful handler
     * execution (for example, flushing a Hibernate Session).
     * <span class="hljs-doctag">@param</span> request the current web request
     * <span class="hljs-doctag">@param</span> model the map of model objects that will be exposed to the view
     * (may be {<span class="hljs-doctag">@code</span> null}). Can be used to analyze the exposed model
     * and/or to add further model attributes, if desired.
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(WebRequest request, @Nullable ModelMap model)</span> <span class="hljs-keyword">throws</span> Exception</span>;

    <span class="hljs-comment">/**
     * Callback after completion of request processing, that is, after rendering
     * the view. Will be called on any outcome of handler execution, thus allows
     * for proper resource cleanup.
     * &lt;p&gt;Note: Will only be called if this interceptor&apos;s {<span class="hljs-doctag">@code</span> preHandle}
     * method has successfully completed!
     * <span class="hljs-doctag">@param</span> request the current web request
     * <span class="hljs-doctag">@param</span> ex exception thrown on handler execution, if any
     * <span class="hljs-doctag">@throws</span> Exception in case of errors
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">afterCompletion</span><span class="hljs-params">(WebRequest request, @Nullable Exception ex)</span> <span class="hljs-keyword">throws</span> Exception</span>;

}
</code></pre>
<p>&#x65B9;&#x6CD5;&#x533A;&#x522B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>HandlerInterceptor</th>
<th>WebRequestInterceptor</th>
</tr>
</thead>
<tbody>
<tr>
<td>boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</td>
<td>void preHandle(WebRequest request)</td>
</tr>
<tr>
<td>void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,<br>            @Nullable ModelAndView modelAndView)</td>
<td>void postHandle(WebRequest request, @Nullable ModelMap model)</td>
</tr>
<tr>
<td>void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,<br>            @Nullable Exception ex)</td>
<td>void afterCompletion(WebRequest request, @Nullable Exception ex)</td>
</tr>
</tbody>
</table>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;<code>preHandler</code>&#x65B9;&#x6CD5;&#x7684;&#x533A;&#x522B;&#x3002;<code>HandlerInterceptor</code>&#x8FD4;&#x56DE;<code>boolean</code>&#xFF0C;&#x7528;&#x6765;&#x5224;&#x65AD;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5411;&#x4E0B;&#x6267;&#x884C;&#x3002;&#x901A;&#x8FC7;&#x6CE8;&#x91CA;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;<code>HandlerInteceptor</code>&#x548C;<code>WebRequestInterceptor</code>&#x7684;<code>preHandler</code>&#x7684;&#x533A;&#x522B;&#x3002;&#x524D;&#x8005;&#x91CD;&#x5728;&#x6267;&#x884C;<code>handler</code>&#x4E4B;&#x95F4;&#x7684;&#x903B;&#x8F91;&#x5224;&#x65AD;&#xFF1B;&#x540E;&#x8005;&#x91CD;&#x5728;&#x5BF9;&#x8D44;&#x6E90;&#x7684;&#x521D;&#x59CB;&#x5316;&#x4E0A;&#x9762;&#x3002;</p>
<h3 id="3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;"><a name="3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;" class="anchor-navigation-ex-anchor" href="#3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;" class="plugin-anchor" href="#3&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;"><i class="fa fa-link" aria-hidden="true"></i></a>3.&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x903B;&#x8F91;</h3>
<p>&#x9996;&#x5148;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B;SpringMVC&#x7684;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x3002;</p>
<p><img src="1.png" alt=""></p>
<center>&#x56FE;1 SpringMVC&#x5904;&#x7406;&#x6D41;&#x7A0B;</center>

<p>&#x200B;                                                                                                                                                        &#x56FE;&#x7247;&#x6765;&#x81EA;&#x5934;&#x6761;@&#x9EC4;&#x5C0F;&#x659C;</p>
<p>SpringMVC&#x5177;&#x4F53;&#x7684;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>1.&#x8BF7;&#x6C42;&#x901A;&#x8FC7;<code>DispatcherServlet</code>&#x8FDB;&#x884C;&#x8DEF;&#x7531;</p>
<p>2.&#x8FD9;&#x4E2A;&#x7C7B;&#x4F7F;&#x7528;<code>HandlerMapping</code>&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;<code>Controller/&#x6216;&#x8005;&#x53EB;Handler</code></p>
<font color="red">preHandle</font>

<p>3.&#x7136;&#x540E;&#x518D;&#x901A;&#x8FC7;<code>HandlerAdapter</code>&#x786E;&#x5B9A;&#x7531;<code>Controller</code>&#x91CC;&#x9762;&#x54EA;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x65B9;&#x6CD5;&#x6267;&#x884C;</p>
<p>4.&#x7531;&#x4E0A;&#x9762;<code>Controller</code>&#x91CC;&#x9762;&#x5177;&#x4F53;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;<code>ModelAndView</code>&#x3002;</p>
<font color="red">postHandle</font>

<p>5.&#x7136;&#x540E;&#x7531;<code>ViewResolver</code>&#x51B3;&#x5B9A;&#x9009;&#x62E9;&#x54EA;&#x4E2A;<code>View/&#x89C6;&#x56FE;</code></p>
<p>6.&#x7136;&#x540E;&#x4F7F;&#x7528;<code>Model</code>&#x6E32;&#x67D3;&#x8FD9;&#x4E2A;&#x4E0A;&#x9762;&#x8FD4;&#x56DE;&#x7684;&#x89C6;&#x56FE;</p>
<font color="red">afterCompletion</font>

<p>7.&#x6700;&#x540E;&#x8FD4;&#x56DE;<code>Response</code>&#x5BF9;&#x8C61;</p>
<p><code>boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)</code></p>
<p>Intercept the execution of a handler. <strong>Called after HandlerMapping determined an appropriate handler object, but before HandlerAdapter invokes the handler.</strong>
DispatcherServlet processes a handler in an execution chain, consisting of any number of interceptors, with the handler itself at the end. With this method, each interceptor can decide to abort the execution chain, typically sending an HTTP error or writing a custom response.
Note: special considerations apply for asynchronous request processing. For more details see AsyncHandlerInterceptor.</p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x51FA;<code>preHandler</code>&#x662F;&#x5728;HandlerMapping&#x786E;&#x5B9A;&#x4E86;Handler&#x5BF9;&#x8C61;&#x4E4B;&#x540E;&#xFF0C;&#x8C03;&#x7528;Handler&#x5BF9;&#x8C61;&#x4E4B;&#x524D;&#xFF0C;<strong>&#x6240;&#x4EE5;&#x5728;<code>preHandle</code>&#x4E2D;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;Handler&#x5BF9;&#x8C61;</strong></p>
<p><code>void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,@Nullable ModelAndView modelAndView)</code></p>
<p>Intercept the execution of a handler. <strong>Called after HandlerAdapter actually invoked the handler, but before the DispatcherServlet renders the view. Can expose additional model objects to the view via the given ModelAndView</strong></p>
<p><code>postHandle</code>&#x5728;&#x8C03;&#x7528;&#x4E86;Handler&#x4E4B;&#x540E;&#xFF0C;&#x6E32;&#x67D3;&#x89C6;&#x56FE;&#x4E4B;&#x524D;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;ModelAndView&#x5BF9;&#x8C61;&#x3002;</p>
<p><code>void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,@Nullable Exception ex)</code></p>
<p><strong>Callback after completion of request processing, that is, after rendering the view.</strong> Will be called on any outcome of handler execution, thus allows for proper resource cleanup.
Note: <strong>Will only be called if this interceptor&apos;s preHandle method has successfully completed and returned true!</strong>
As with the postHandle method, the method will be invoked on each interceptor in the chain in reverse order, so the first interceptor will be the last to be invoked.</p>
<p>&#x6E32;&#x67D3;&#x89C6;&#x56FE;&#x4E4B;&#x540E;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x6709;preHandler&#x8FD4;&#x56DE;true&#x624D;&#x4F1A;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x5408;springMVC&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x770B;&#x3002;</p>
<h3 id="4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><a name="4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;" class="anchor-navigation-ex-anchor" href="#4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;" class="plugin-anchor" href="#4&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;"><i class="fa fa-link" aria-hidden="true"></i></a>4.&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5904;&#x7406;&#x6D41;&#x7A0B;</h3>
<p>&#x5F53;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x65F6;&#xFF0C;&#x62E6;&#x622A;&#x5668;&#x7684;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;</p>
<p>preHandle #1 -&gt; preHandle #2 -&gt; preHandle -&gt; #3  -&gt; Handler</p>
<p>postHandle #3 &lt;- postHandle #2 &lt;- postHandle  #1 &lt;-Handler</p>
<p>afterCompletion #3 &lt;- afterCompletion #2 &lt;- afterCompletion #1 &lt;-Handler</p>
<p>&#x5F53;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x65F6;&#xFF0C;preHandle&#x65B9;&#x6CD5;&#x6309;&#x7167;<strong>&#x62E6;&#x622A;&#x5668;&#x7684;&#x6CE8;&#x518C;&#x987A;&#x5E8F;</strong> &#x987A;&#x5E8F;&#x6267;&#x884C;&#xFF0C;postHandle&#x65B9;&#x6CD5;&#x5219;&#x6309;&#x7167;<strong>&#x62E6;&#x622A;&#x5668;&#x7684;&#x6CE8;&#x518C;&#x987A;&#x5E8F;</strong> &#x9006;&#x5E8F;&#x6267;&#x884C;&#xFF0C;afterCompletion&#x65B9;&#x6CD5;&#x5219;&#x6309;&#x7167;<strong>&#x62E6;&#x622A;&#x5668;&#x7684;&#x6CE8;&#x518C;&#x987A;&#x5E8F;</strong> &#x9006;&#x5E8F;&#x6267;&#x884C;&#x3002;</p>
<h3 id="5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;"><a name="5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;" class="anchor-navigation-ex-anchor" href="#5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;" class="plugin-anchor" href="#5spring&#x548C;springboot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;"><i class="fa fa-link" aria-hidden="true"></i></a>5.Spring&#x548C;SpringBoot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x65B9;&#x5F0F;</h3>
<p>SpringBoot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;</p>
<p>1.&#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;</p>
<p><img src="2.jpg" alt=""></p>
<center>&#x56FE;2 &#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;</center>

<p>2.&#x6CE8;&#x518C;&#x62E6;&#x622A;&#x5668;</p>
<p><img src="3.jpg" alt=""></p>
<center>&#x56FE;3 &#x6CE8;&#x518C;&#x62E6;&#x622A;&#x5668;</center>



<p>Spring&#x62E6;&#x622A;&#x5668;&#x6CE8;&#x518C;&#x65B9;&#x5F0F;</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myInterceptor&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.hyena.springboot.common.webUtil.inteceptor.MyInterceptor&quot;</span>/&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/**&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mvc:exclude-mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/user/put&quot;</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mvc:exclude-mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/shopping/**&quot;</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mvc:exclude-mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/file/upload&quot;</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span>
</code></pre>
<h3 id="6&#x53C2;&#x8003;&#x8D44;&#x6599;"><a name="6&#x53C2;&#x8003;&#x8D44;&#x6599;" class="anchor-navigation-ex-anchor" href="#6&#x53C2;&#x8003;&#x8D44;&#x6599;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="6&#x53C2;&#x8003;&#x8D44;&#x6599;" class="plugin-anchor" href="#6&#x53C2;&#x8003;&#x8D44;&#x6599;"><i class="fa fa-link" aria-hidden="true"></i></a>6.&#x53C2;&#x8003;&#x8D44;&#x6599;</h3>
<ol>
<li><a href="https://www.jianshu.com/p/25ea148edbc1" target="_blank">https://www.jianshu.com/p/25ea148edbc1</a></li>
<li><a href="https://www.toutiao.com/a6808139254972023300/" target="_blank">https://www.toutiao.com/a6808139254972023300/</a></li>
<li><a href="https://www.cnblogs.com/juanzila/p/11276067.html" target="_blank">https://www.cnblogs.com/juanzila/p/11276067.html</a></li>
<li><a href="https://www.cnblogs.com/jing99/p/11147152.html" target="_blank">https://www.cnblogs.com/jing99/p/11147152.html</a></li>
<li><a href="https://blog.csdn.net/qq924862077/article/details/53524507" target="_blank">https://blog.csdn.net/qq924862077/article/details/53524507</a></li>
<li><a href="https://www.jianshu.com/p/1e8d088c2be9" target="_blank">https://www.jianshu.com/p/1e8d088c2be9</a></li>
<li><a href="https://blog.csdn.net/qq_36918149/article/details/93405589" target="_blank">https://blog.csdn.net/qq_36918149/article/details/93405589</a></li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../spring-mvc-request-annotation/" class="navigation navigation-prev " aria-label="Previous page: 2.2.1 SpringMVC注解">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../spring-global-exception/" class="navigation navigation-next " aria-label="Next page: 2.2.3 Spring全局统一异常处理">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.2.2 SpringMVC拦截器","level":"1.3.2.2","depth":3,"next":{"title":"2.2.3 Spring全局统一异常处理","level":"1.3.2.3","depth":3,"path":"spring framework/spring-mvc/spring-global-exception/README.md","ref":"spring framework/spring-mvc/spring-global-exception/README.md","articles":[]},"previous":{"title":"2.2.1 SpringMVC注解","level":"1.3.2.1","depth":3,"path":"spring framework/spring-mvc/spring-mvc-request-annotation/README.md","ref":"spring framework/spring-mvc/spring-mvc-request-annotation/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","splitter","expandable-chapters-small","anchors","-lunr","-search","search-pro","github","github-buttons","-donate","sharing-plus","anchor-navigation-ex","favicon","js-sequence-diagram","mermaid-gb3","livereload"],"styles":{"website":"./styles/website.css"},"pluginsConfig":{"github":{"url":"https://github.com/youngFF"},"livereload":{},"splitter":{},"search-pro":{},"js-sequence-diagram":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"donate":{"alipay":"./source/images/donate.png","title":"","button":"赞赏","alipayText":" "},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"mermaid-gb3":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"favicon":{"shortcut":"./source/images/favicon.jpg","bookmark":"./source/images/favicon.jpg","appleTouch":"./source/images/apple-touch-icon.jpg","appleTouchMore":{"120x120":"./source/images/apple-touch-icon.jpg","180x180":"./source/images/apple-touch-icon.jpg"}},"github-buttons":{"buttons":[{"user":"youngFF","repo":"glory","type":"star","size":"small","count":true}]},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["google","facebook","weibo","twitter","qq","qzone","linkedin","pocket"],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"hyena","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"think study repeat","language":"zh-hans","links":{"sidebar":{"百度一下":"https://www.baidu.com"}},"gitbook":"3.2.3","description":"my hearthStone book"},"file":{"path":"spring framework/spring-mvc/spring-mvc-interceptor/README.md","mtime":"2020-04-14T10:10:18.887Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-11-01T09:42:41.488Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram/jquery-2.1.1.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram/underscore-min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-mermaid-gb3/book/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script src="../../../gitbook/gitbook-plugin-mermaid-gb3/mermaid/mermaid.min.js"></script>

    </body>
</html>

